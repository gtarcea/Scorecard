<?xml version="1.0"?>
<smooks-resource-list xmlns="http://www.milyn.org/xsd/smooks-1.1.xsd"
	xmlns:jb="http://www.milyn.org/xsd/smooks/javabean-1.2.xsd" xmlns:dao="http://www.milyn.org/xsd/smooks/persistence-1.2.xsd"
	xmlns:csv="http://www.milyn.org/xsd/smooks/csv-1.2.xsd">

	<params>
		<param name="stream.filter.type">SAX</param>
	</params>

	<csv:reader
		fields="cycle,CmteID,PACShort,Affiliate,Ultorg,RecipID,RecipCode,FECCandID,Party,PrimCode,Source,Sensitive,Foreign,Active"
		separator="&#x9;">
	</csv:reader>

	<jb:bean beanId="os-candidate" class="org.fdl.scorecard.model.Pac"
		createOnElement="csv-record">

		<jb:value property="cycle" data="cycle"/>
		<jb:value property="pacId" data="CmteID"/>
		<jb:value property="pacName" data="PACShort"/>
  		<jb:value property="affiliate" data="Affiliate"/>
  		<jb:value property="parentOranization" data="Ultorg"/>
		<jb:value property="recipientId" data="RecipID"/>
		<jb:value property="pacType" data="RecipCode" decoder="org.ncibi.commons.smooks.decoder.DefaultEnumDecoder">
			<jb:decodeParam name="valuePreprocess">
			</jb:decodeParam>
			<jb:decodeParam name="baseDecoder">"org.ncibi.commons.smooks.decoder.DefaultEnumDecoder"</jb:decodeParam>
			<jb:decodeParam name="enumType">org.fdl.scorecode.model.PacType</jb:decodeParam>
			<jb:decodeParam name=""
		</jb:value>

		<jb:value property="party" data="Party" decoder="org.ncibi.commons.smooks.decoder.DefaultedEnumDecoder">
			<jb:decodeParam name="enumType">org.fdl.scorecard.model.PoliticalParty
			</jb:decodeParam>
			<jb:decodeParam name="D">DEMOCRAT</jb:decodeParam>
			<jb:decodeParam name="R">REPUBLICAN</jb:decodeParam>
			<jb:decodeParam name="I">INDEPENDENT</jb:decodeParam>
			<jb:decodeParam name="L">LIBERTARIAN</jb:decodeParam>
			<jb:decodeParam name="3">THIRD_PARTY</jb:decodeParam>
			<jb:decodeParam name="U">UNKNOWN</jb:decodeParam>
			<jb:decodeParam name="default">UNKNOWN</jb:decodeParam>
		</jb:value>

		<jb:value property="districtIdRunFor" data="DistIDRunFor"/>
		<jb:value property="currentDistrictId" data="DistIDCurr"/>

		<jb:value property="currentlyRunning" data="CurrCand"
			decoder="Boolean">
			<jb:decodeParam name="valuePreprocess">
				if (value == "Y")
				{
					return "true";
				}
				else
				{
					return "false";
				}
			</jb:decodeParam>
		</jb:value>

		<jb:value property="previouslyRan" data="CycleCand" decoder="Boolean">
			<jb:decodeParam name="valuePreprocess">
				if (value == "Y")
				{
					return "true";
				}
				else
				{
					return "false";
				}
			</jb:decodeParam>
		</jb:value>

		<jb:value property="candidateType" data="CRPICO" decoder="org.ncibi.commons.smooks.decoder.DefaultedEnumDecoder">
			<jb:decodeParam name="enumType">org.fdl.scorecard.model.CandidateType
			</jb:decodeParam>
			<jb:decodeParam name="I">INCUMBENT</jb:decodeParam>
			<jb:decodeParam name="C">CHALLENGER</jb:decodeParam>
			<jb:decodeParam name="O">OPEN_SEAT</jb:decodeParam>
			<jb:decodeParam name="U">UNKNOWN</jb:decodeParam>
			<jb:decodeParam name="default">UNKNOWN</jb:decodeParam>
		</jb:value>

		<jb:value property="noPacs" data="NoPacs" decoder="Boolean">
			<jb:decodeParam name="valuePreprocess">
				if (value == "Y")
				{
					return "true";
				}
				else
				{
					return "false";
				}
			</jb:decodeParam>
		</jb:value>

	</jb:bean>

	<dao:inserter beanId="os-candidate" dao="ncibi"
		insertOnElement="csv-record" />
	<dao:flusher dao="ncibi" flushOnElement="csv-set" />

</smooks-resource-list>